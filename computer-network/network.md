## 计算机网络常见面试题

**1.osi 和 TCP/IP 网络模型**

相关面试：

**- OSI 七层模型是什么？每一层的作用是什么？**

osi的七层模型：从下到上
- 应用层：为计算机用户提供服务（应用层协议：HTTP，FTP,TELNT,SMTP）

应用层是计算机用户，以及各种应用程序和网络之间的接口，其功能是直接向用户提供服务，完成用户希望在网络上完成的各种工作。前端同学对应用层肯定是最熟悉的。

- 表示层：数据处理(编解码、加密解密，压缩解压缩)（ASCII,SSL/TLS）

表示层负责数据格式的转换，将应用处理的信息转换为适合网络传输的格式，或者将来自下一层的数据转换为上层能处理的格式。

- 会话层：管理(建立、维护、重连)应用程序之间的会话(ADSP,RPC)

虽然已经可以实现给正确的计算机，发送正确的封装过后的信息了。但我们总不可能每次都要调用传输层协议去打包，然后再调用IP协议去找路由，所以我们要建立一个自动收发包，自动寻址的功能。于是会话层出现了：它的作用就是建立和管理应用程序之间的通信。

- 传输层：为两台主机进程之间的通信提供通用的数据传输服务(TCP,UDP)

当发送大量数据时，很可能会出现丢包的情况，另一台电脑要告诉是否完整接收到全部的包。如果缺了，就告诉丢了哪些包，然后再发一次，直至全部接收为止。

简单来说，传输层的主要功能就是：监控数据传输服务的质量，保证报文的正确传输。

- 网络层：路由和寻址(决定数据在网络的游走路径)(IP)

计算机网络中如果有多台计算机，怎么找到要发的那台？如果中间有多个节点，怎么选择路径？这就是路由要做的事。

该层的主要任务就是：通过路由选择算法，为报文（该层的数据单位，由上一层数据打包而来）通过通信子网选择最适当的路径。这一层定义的是IP地址，通过IP地址寻址，所以产生了IP协议。

- 数据链路层：帧编码和误差纠正(HDLC,PPP,SLIP)

在计算机网络中由于各种干扰的存在，物理链路是不可靠的。该层的主要功能就是：通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路。

它的具体工作是接收来自物理层的位流形式的数据，并封装成帧，传送到上一层；同样，也将来自上层的数据帧，拆装为位流形式的数据转发到物理层。这一层的数据叫做帧。

- 物理层：透明的传送比特流(S 232C RS)
  
  物理层解决两个硬件之间的通信问题

  透明的传输比特流数据(就是由1/0转换为电流的强弱来进行传输，到达目的地之后转换为1，也就是我们常说的数模转换和模数转换)，这一层的数据叫作比特

每一层都专注一件事情，并且每一层都需要下一层提供的功能

**- TCP/IP 四层模型是什么？每一层的作用？**

1.应用层：应用程序之间沟通的层，如简单的电子邮件传输(SMTP)、文件传输协议(FTP)、网络远程访问协议(Telnet)

2.传输层：在此层中，它提供了节点间的数据传送，应用程序之间的通信服务，主要功能是数据格式化，数据确认和丢失重传等。
如传输控制协议(TCP)、用户数据协议(UDP)等，TCP和UDP给数据包加入传输数据并把它传输到下一层中，这一层负责传送数据，并且确定数据已被送到并接收

3.网络层：负责提供基本的数据封包传送功能，让每一块数据包都能到达目的之机(但不检查是否被正确接收)，如网际协议(IP)

4.网络接口层(主机网络层)：接收ip数据报并进行传输，从网络上接收物理帧，抽取ip数据报转交给下一层，对实际的网络媒体的管理，定义如何使用实际网络(如Enthernet,Serial Line等)来传送数据

**- 为什么网络要分层**

1.各层之间互相独立
2.灵活性好，每一层可以采用各自最适当的技术来实现
3.易于实现和标准化

**2.应用层有哪些常见协议?**

1.DNS：域名系统

用来将域名映射成ip地址，端口号为TCP或UDP的53

2.SMTP简单邮件传输协议，端口号是25

在互联网中，电子邮件的传送是依靠SMTP协议进行的
SMTP协议包括两个标准子集， 一个标准定义电子邮件信息的格式，另一个是传输邮件的标准。
SMTP的主要任务：负责服务器之间的邮件传送，最大的特点是简单。
只规定了电子邮件如何在互联网中通过TCP协议在发送方和接收方之间进行传送。

工作方式
基于客户/服务器方式进行的。
发送人的主机为客户方，收件人的邮件服务器为服务方。在传送邮件的过程中，需要使用TCP协议进行连接（默认端口号为25）。发送主机先将邮件发送到本地SMTP服务器上，本地SMTP服务器与接收方的邮件服务器建立可靠的TCP连接，从而保证了邮件传输的可靠性。
注意
1. 接收方必须使用POP3协议才能取得自己邮箱中的邮件。
2. POP3协议的主要任务是实现用户计算机和邮件服务器的连接，从邮件服务器的电子邮箱中读取邮件。

3.HTTP：超文本传输协议
用于传输internet浏览器使用的普通文本，超文本，音频和视频等数据。端口号TCP 80

4.HTTPS：安全文本传输协议
是基于HTTP开发的，HTTPS应用了安全套接字层(SSL)作为应用层的子层，可以对数据进行加密
和压缩，端口号443

5.TELNET远程登录协议

主要是允许用户和远程计算机进行动态交互，就是用自己的设备操作远程计算机

6.FTP：文件传输协议
它基于传输层的TCP协议
负责将文本从一台计算机转移到另一台计算机，并且保证传输的可靠性

**3.TCP 和 UDP 的区别(重要)**

**4.什么时候选择 TCP 什么时候选择 UDP**

tcp是面向连接的协议，也就是说，在收发数据前必须和对方建立可靠的连接，一个TCP连接必须要经过三次对话才能建立起来，其中的过程非常复杂，简单说：

1）主机A向主机B发出连接请求数据包：“我想给你发数据，可以吗？”，这是第一次对话；

2）主机B向主机A发送同意连接和要求同步 （同步就是两台主机一个在发送，一个在接收，协调工作）的数据包 ：“可以，你什么时候发？”，这是第二次对话；

3）主机A再发出一个数据包确认主机B的要求同步：“我现在就发，你接着吧！”， 这是第三次对话。

三次握手的过程：

第一次握手：主机A通过向主机B 发送一个含有同步序列号的标志位的数据段给主机B，向主机B 请求建立连接，通过这个数据段， 主机A告诉主机B 两件事：我想要和你通信；你可以用哪个序列号作为起始数据段来回应我。

第二次握手：主机B 收到主机A的请求后，用一个带有确认应答（ACK）和同步序列号（SYN）标志位的数据段响应主机A，也告诉主机A两件事：我已经收到你的请求了，你可以传输数据了；你要用那个序列号作为起始数据段来回应我

第三次握手：主机A收到这个数据段后，再发送一个确认应答，确认已收到主机B 的数据段："我已收到回复，我现在要开始传输实际数据了，这样3次握手就完成了，主机A和主机B 就可以传输数据了。

没有应用层的数据 ,SYN这个标志位只有在TCP建立连接时才会被置1 ,握手完成后SYN标志位被置0。

TCP建立连接要进行三次握手，而断开连接需要进行四次

第一次： 当主机A完成数据传输后,将控制位FIN置1，提出停止TCP连接的请求 ；

第二次： 主机B收到FIN后对其作出响应，确认这一方向上的TCP连接将关闭,将ACK置1；

第三次： 由B 端再提出反方向的关闭请求,将FIN置1 ；

第四次： 主机A对主机B的请求进行确认，将ACK置1，双方向的关闭结束.。

[https://zhuanlan.zhihu.com/p/24860273]

**tcp和UDP的区别总结来说**
1、基于连接与无连接；

2、对系统资源的要求（TCP较多，UDP少）；

3、UDP程序结构较简单；

4、流模式与数据报模式 ；

5、TCP保证数据正确性，UDP可能丢包；

6、TCP保证数据顺序，UDP不保证。


**5.HTTP 基于 TCP 还是 UDP?**

HTTP1/2都是基于TCP的，因为发送HTTP请求时，会先进行TCP三次握手的连接
不过HTTP3是基于UDP的

**6.使用 TCP 的协议有哪些？使用 UDP 的协议有哪些？**

[https://blog.csdn.net/boyaaboy/article/details/102566522]

基于TCP的协议：
1.HTTP：超文本传输协议
1.FTP：文件传输协议
2.Telnet:用于远程登录的协议，通过它可以远程连接到计算机
3.SMTP：简单邮件协议，用来发送电子邮件
4.POP3:它是和SMTP对应，pop3用来接收邮件

基于UDP的协议：
1.DNS：域名解析服务
2.SNMP（简单网络管理协议）
3.TFTP（UDP）：目标是在UDP之上上建立一个类似于FTP的但仅支持文件上传和下载功能的传输协议，所以它不包含FTP协议中的目录操作和用户权限等内容；

**7.TCP 的三次握手和四次挥手(非常重要)**

**8.HTTP，从输入 URL 到页面展示到底发生了什么？(非常重要)**

[https://juejin.cn/post/6869279683230629896]

**9.HTTP 的状态码有哪些？**

**10.HTTP 和 HTTPS 有什么区别？(重要)**

[https://zhuanlan.zhihu.com/p/151764515]

**11.HTTP1.0 和 HTTP1.1 有什么区别?**

[https://zhuanlan.zhihu.com/p/266578819]

**12.HTTP 是不保存状态的协议，如何保存用户状态?**
[https://blog.csdn.net/qq_46728644/article/details/123077494]

**14.ARP 什么是 Mac 地址**

[https://zhuanlan.zhihu.com/p/74432070]

15.ARP 协议解决了什么问题？地位如何？

[https://zhuanlan.zhihu.com/p/145782441]

