## raft

raft 最大的特性是易于理解

1、raft问题分解

raft把共识算法分解为三个子问题，分别是临到者选举，日志复制，安全性

2、状态简化

对算法做出一些限制，减少状态数量和可能发生的变动

### 1、复制状态机

复制状态机：
相同的初始状态+相同的输入=相同的结束状态
多个节点上，从相同的初始状态开始，执行相同的一串命令，产生相同的最终状态

raft算法的目标：保证log完全相同地复制到多台服务器上
只要每台服务器的日志相同，那么，在不同服务器上的状态机以相同顺序从日志中执行相同的命令，将会产生相同的结果。
共识算法的工作就是管理这些日志。

### 2、raft的一些术语

**服务器状态**

服务器在任意时间只能处于一下三种状态之一:
Leader：处理客户请求，日志复制。同一时刻最多只能有一个可行的leader
follower:完全被动的(不发送RPC，只响应收到的RPC) 大多数服务器在大多数情况下处于此状态
candidate：用来选举新的leader，处于Leader和Follower之间的暂时状态

系统正常运行时，只有一个Leader，其余都是Followers